# Configuração de logrotate para App Frota
# Copie para: /etc/logrotate.d/app_frota
# Teste: sudo logrotate -d /etc/logrotate.d/app_frota
# Força execução: sudo logrotate -f /etc/logrotate.d/app_frota

/root/app_frota/backups/backup.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 0644 root root
    dateext
    dateformat -%Y%m%d
}

/root/app_frota/health.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 0644 root root
    dateext
    dateformat -%Y%m%d
}

# Logs do Docker (se configurado para arquivo)
/var/lib/docker/containers/*/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    maxsize 100M
}
